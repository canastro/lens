{"version":3,"file":"lens-filter-contrast.umd.js","sources":["../src/index.js"],"sourcesContent":["import { applyFilter } from 'lens-core';\n\n/**\n * Iterate over the array applying the contrast transformation\n * @name transform\n * @param {Object} data\n * @param {Number} length\n * @param {Object} options\n * @param {Number} [options.contrast]\n */\nexport const transform = ({ data, length, options }) => {\n    const factor =\n        (259 * (options.contrast + 255)) / (255 * (259 - options.contrast));\n\n    for (let i = 0; i < length; i += 4) {\n        data[i] = factor * (data[i] - 128) + 128;\n        data[i + 1] = factor * (data[i + 1] - 128) + 128;\n        data[i + 2] = factor * (data[i + 2] - 128) + 128;\n    }\n\n    return data;\n};\n\n/**\n * @param {ImageData} data - data of a image extracted from a canvas\n * @param {Object} options - options to pass to the transformation function\n * @param {Number} [options.contrast] - contrast value to apply in the transformation\n * @param {Number} nWorkers - number of workers\n * @returns {Promise}\n */\nexport default function contrast({ data, options, nWorkers } = {}) {\n    if (!data || !options || !options.contrast) {\n        throw new Error('lens-filter-contrast:: invalid options provided');\n    }\n\n    return applyFilter({ data, transform, options, nWorkers });\n}\n"],"names":["transform","data","length","options","factor","contrast","i","nWorkers","Error","applyFilter"],"mappings":"uPAUaA,EAAY,oBAAGC,IAAAA,KAAMC,IAAAA,OAAQC,IAAAA,QAChCC,EACD,KAAOD,EAAQE,SAAW,MAAS,KAAO,IAAMF,EAAQE,WAEpDC,EAAI,EAAGA,EAAIJ,EAAQI,GAAK,IACxBA,GAAKF,GAAUH,EAAKK,GAAK,KAAO,MAChCA,EAAI,GAAKF,GAAUH,EAAKK,EAAI,GAAK,KAAO,MACxCA,EAAI,GAAKF,GAAUH,EAAKK,EAAI,GAAK,KAAO,WAG1CL,2BAUI,wEAAgD,GAA5BA,IAAAA,KAAME,IAAAA,QAASI,IAAAA,aACzCN,IAASE,IAAYA,EAAQE,eACxB,IAAIG,MAAM,0DAGbC,cAAY,CAAER,OAAMD,YAAWG,UAASI"}