{"version":3,"file":"lens-filter-gamma.umd.js","sources":["../src/index.js"],"sourcesContent":["import { applyFilter } from 'lens-core';\n\n/**\n * Iterate over the array applying the gamma transformation\n * @param {Object} data\n * @param {Number} length\n * @param {Object} options\n * @param {Number} [options.adjustment]\n */\nexport const transform = ({ data, length, options }) => {\n    for (let i = 0; i < length; i += 4) {\n        data[i] = Math.pow(data[i] / 255, options.adjustment) * 255;\n        data[i + 1] = Math.pow(data[i + 1] / 255, options.adjustment) * 255;\n        data[i + 2] = Math.pow(data[i + 2] / 255, options.adjustment) * 255;\n    }\n\n    return data;\n};\n\n/**\n * @param {ImageData} data - data of a image extracted from a canvas\n * @param {Object} options - options to pass to the transformation function\n * @param {Number} [options.adjustment] - adjustment to apply in the transformation\n * @param {Number} nWorkers - number of workers\n * @returns {Promise}\n */\nexport default function gamma({ data, options, nWorkers } = {}) {\n    if (!data || !options || !options.adjustment) {\n        throw new Error('lens-filter-gamma:: invalid options provided');\n    }\n\n    return applyFilter({ data, transform, options, nWorkers });\n}\n"],"names":["transform","data","length","options","i","Math","pow","adjustment","nWorkers","Error","applyFilter"],"mappings":"oPASaA,EAAY,oBAAGC,IAAAA,KAAMC,IAAAA,OAAQC,IAAAA,QAC7BC,EAAI,EAAGA,EAAIF,EAAQE,GAAK,IACxBA,GAAmD,IAA9CC,KAAKC,IAAIL,EAAKG,GAAK,IAAKD,EAAQI,cACrCH,EAAI,GAAuD,IAAlDC,KAAKC,IAAIL,EAAKG,EAAI,GAAK,IAAKD,EAAQI,cAC7CH,EAAI,GAAuD,IAAlDC,KAAKC,IAAIL,EAAKG,EAAI,GAAK,IAAKD,EAAQI,mBAG/CN,2BAUI,wEAA6C,GAA5BA,IAAAA,KAAME,IAAAA,QAASK,IAAAA,aACtCP,IAASE,IAAYA,EAAQI,iBACxB,IAAIE,MAAM,uDAGbC,cAAY,CAAET,OAAMD,YAAWG,UAASK"}