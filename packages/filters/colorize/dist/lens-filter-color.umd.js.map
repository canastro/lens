{"version":3,"file":"lens-filter-color.umd.js","sources":["../src/index.js"],"sourcesContent":["import { applyFilter } from 'lens-core';\n\n/**\n * @param {Object} data\n * @param {Number} length\n * @param {Object} options\n * @param {Number} [options.color]\n * @param {Number} [options.level]\n */\nexport const transform = ({ data, length, options }) => {\n    const hex =\n        options.color.charAt(0) === '#'\n            ? options.color.substr(1)\n            : options.color;\n    const colorRGB = {\n        r: parseInt(hex.substr(0, 2), 16),\n        g: parseInt(hex.substr(2, 2), 16),\n        b: parseInt(hex.substr(4, 2), 16)\n    };\n\n    for (let i = 0; i < length; i += 4) {\n        data[i] -= (data[i] - colorRGB.r) * (options.level / 100);\n        data[i + 1] -= (data[i + 1] - colorRGB.g) * (options.level / 100);\n        data[i + 2] -= (data[i + 2] - colorRGB.b) * (options.level / 100);\n    }\n\n    return data;\n};\n\n/**\n * @param {ImageData} data - data of a image extracted from a canvas\n * @param {Object} options - options to pass to the transformation function\n * @param {Number} [options.color] - color value to apply in the transformation\n * @param {Number} [options.level] - level value to apply in the transformation\n * @param {Number} nWorkers - number of workers\n * @returns {Promise}\n */\nexport default function colorize({ data, options, nWorkers } = {}) {\n    if (!data || !options || !options.color || !options.level) {\n        throw new Error('lens-filter-colorize:: invalid options provided');\n    }\n\n    return applyFilter({ data, transform, options, nWorkers });\n}\n"],"names":["transform","data","length","options","hex","color","charAt","substr","colorRGB","parseInt","i","level","nWorkers","Error","applyFilter"],"mappings":"uPASaA,EAAY,oBAAGC,IAAAA,KAAMC,IAAAA,OAAQC,IAAAA,QAChCC,EAC0B,MAA5BD,EAAQE,MAAMC,OAAO,GACfH,EAAQE,MAAME,OAAO,GACrBJ,EAAQE,MACZG,EACCC,SAASL,EAAIG,OAAO,EAAG,GAAI,IAD5BC,EAECC,SAASL,EAAIG,OAAO,EAAG,GAAI,IAF5BC,EAGCC,SAASL,EAAIG,OAAO,EAAG,GAAI,IAGzBG,EAAI,EAAGA,EAAIR,EAAQQ,GAAK,IACxBA,KAAOT,EAAKS,GAAKF,IAAeL,EAAQQ,MAAQ,OAChDD,EAAI,KAAOT,EAAKS,EAAI,GAAKF,IAAeL,EAAQQ,MAAQ,OACxDD,EAAI,KAAOT,EAAKS,EAAI,GAAKF,IAAeL,EAAQQ,MAAQ,YAG1DV,2BAWI,wEAAgD,GAA5BA,IAAAA,KAAME,IAAAA,QAASS,IAAAA,cACzCX,GAASE,GAAYA,EAAQE,OAAUF,EAAQQ,aAC1C,IAAIE,MAAM,0DAGbC,cAAY,CAAEb,OAAMD,YAAWG,UAASS"}